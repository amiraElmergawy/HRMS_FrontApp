<div class="h-100 w-100 ar-dir bg-white card" *ngIf="departments != ''">

  <table class="table  table-hover mt-3 scroll">
    <thead>
      <tr>
        <th scope="col" class="daisy-color">#</th>
        <th scope="col" class="daisy-color"> الاسم </th>

        <th scope="col" *ngIf="currentUserType"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let dept of departments | paginate:{itemsPerPage: 6, currentPage:p}; let i = index">
        <td class="daisy-color">{{i+1}}</td>
        <td>
          <a [routerLink]="[ '/home/show-department/', dept._id ]" class="daisy-color">
            {{dept.name}}
          </a>
        </td>

        <td *ngIf="currentUserType">
            <ng-container *ngIf="deleteFlag; else elseTemplate">
              <span class="btn custom-update-btn mx-2" (click)="deleteDept(dept._id, $event)">مسح</span>
              <span class="btn btn-secondary" (click)="deleteFlag = false">الغاء</span>
            </ng-container>
            <ng-template #elseTemplate>
              <span class="btn custom-delete-btn" (click)="deleteFlag = true" title="مسح">
                <i class="fas fa-trash-alt"></i>
              </span>
            </ng-template>
        </td>
      </tr>
    </tbody>
  </table>

  <div id="pagination">
    <pagination-controls previousLabel="السابق"
    nextLabel="التالي" (pageChange)="p=$event"></pagination-controls>
  </div>

</div>
